{"ast":null,"code":"var _jsxFileName = \"/Users/raymondhear/Documents/ms_cs/csci_6221/advanced_software_paradigms_golang_project/static/src/components/LoggedIn.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\nimport { FiThumbsUp, FiThumbsDown } from \"react-icons/fi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoggedIn = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [voted, setVoted] = useState({\n    \"world-of-authcraft\": \"\",\n    \"ocean-explorer\": \"\",\n    \"dinosaur-park\": \"\",\n    \"cars-vr\": \"\",\n    \"robin-hood\": \"\",\n    \"real-world-vr\": \"\"\n  });\n  const {\n    getTokenSilently,\n    loading,\n    user,\n    logout,\n    isAuthenticated\n  } = useAuth0();\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const token = await getTokenSilently(); // Send a GET request to the server and add the signed in user's\n        // access token in the Authorization header\n\n        const response = await fetch(\"http://localhost:8080/products\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const responseData = await response.json();\n        setProducts(responseData);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    getProducts();\n  }, []);\n\n  const vote = async (slug, type, index) => {\n    try {\n      const token = await getTokenSilently(); // Send a POST request to the Go server for the selected product\n      // with the vote type\n\n      const response = await fetch(`http://localhost:8080/products/${slug}/feedback`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          vote: type\n        })\n      }); // Since this is just for demonstration and we're not actually\n      // persisting this data, we'll just set the product vote status here\n      // if the product exists\n\n      if (response.ok) {\n        setVoted({ ...voted,\n          [slug]: [type]\n        });\n      } else console.log(response.status);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  if (loading || !user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"jumbotron text-center mt-5\",\n      children: [isAuthenticated && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"btn btn-primary float-right\",\n        onClick: () => logout(),\n        children: \"Log out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"spacer\", {\n        type: \"horizontal\",\n        width: \"100\",\n        height: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: \"text-transform:\",\n        children: \"Go Language Evaluation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Austin Gerner and Raymond Hear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Advanced Software Paradigms (CSCI 6221)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"spacer\", {\n        type: \"horizontal\",\n        width: \"100\",\n        height: \"100\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Hi, \", user.name, \"! Below you'll find the latest games that need feedback. Please provide honest feedback so developers can make the best games.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: products.map(function (product, index) {\n          const prodSlug = product.Slug;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: product.Name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: product.Description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: () => vote(product.Slug, \"Upvoted\", index),\n                  className: \"btn btn-default float-left\",\n                  children: /*#__PURE__*/_jsxDEV(FiThumbsUp, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: voted[prodSlug]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: () => vote(product.Slug, \"Downvoted\", index),\n                  className: \"btn btn-default float-right\",\n                  children: /*#__PURE__*/_jsxDEV(FiThumbsDown, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoggedIn, \"grM01mbP6Ej28iAm8p+g3If7I8w=\", false, function () {\n  return [useAuth0];\n});\n\n_c = LoggedIn;\nexport default LoggedIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoggedIn\");","map":{"version":3,"sources":["/Users/raymondhear/Documents/ms_cs/csci_6221/advanced_software_paradigms_golang_project/static/src/components/LoggedIn.js"],"names":["React","useState","useEffect","useAuth0","FiThumbsUp","FiThumbsDown","LoggedIn","products","setProducts","voted","setVoted","getTokenSilently","loading","user","logout","isAuthenticated","getProducts","token","response","fetch","headers","Authorization","responseData","json","error","console","vote","slug","type","index","method","body","JSON","stringify","ok","log","status","name","map","product","prodSlug","Slug","Name","Description"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\nimport { FiThumbsUp, FiThumbsDown } from \"react-icons/fi\";\n\nconst LoggedIn = () => {\n  const [products, setProducts] = useState([]);\n  const [voted, setVoted] = useState({\n    \"world-of-authcraft\": \"\",\n    \"ocean-explorer\": \"\",\n    \"dinosaur-park\": \"\",\n    \"cars-vr\": \"\",\n    \"robin-hood\": \"\",\n    \"real-world-vr\": \"\",\n  });\n\n  const {\n    getTokenSilently,\n    loading,\n    user,\n    logout,\n    isAuthenticated,\n  } = useAuth0();\n\n  useEffect(() => {\n    const getProducts = async () => {\n      try {\n        const token = await getTokenSilently();\n        // Send a GET request to the server and add the signed in user's\n        // access token in the Authorization header\n        const response = await fetch(\"http://localhost:8080/products\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        const responseData = await response.json();\n\n        setProducts(responseData);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    getProducts();\n  }, []);\n\n  const vote = async (slug, type, index) => {\n    try {\n      const token = await getTokenSilently();\n      // Send a POST request to the Go server for the selected product\n      // with the vote type\n      const response = await fetch(\n        `http://localhost:8080/products/${slug}/feedback`,\n        {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body: JSON.stringify({ vote: type }),\n        }\n      );\n      // Since this is just for demonstration and we're not actually\n      // persisting this data, we'll just set the product vote status here\n      // if the product exists\n      if (response.ok) {\n        setVoted({\n          ...voted,\n          [slug]: [type],\n        });\n      } else console.log(response.status);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  if (loading || !user) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron text-center mt-5\">\n        {isAuthenticated && (\n          <span\n            className=\"btn btn-primary float-right\"\n            onClick={() => logout()}\n          >\n            Log out\n          </span>\n        )}\n        <spacer type=\"horizontal\" width=\"100\" height=\"100\"></spacer>\n        <h1 style=\"text-transform:\">Go Language Evaluation</h1>\n        <hr></hr>\n        <h2>Austin Gerner and Raymond Hear</h2>\n        <h3>Advanced Software Paradigms (CSCI 6221)</h3>\n        <spacer type=\"horizontal\" width=\"100\" height=\"100\"> </spacer>\n        <p>\n          Hi, {user.name}! Below you'll find the latest games that need\n          feedback. Please provide honest feedback so developers can make the\n          best games.\n        </p>\n        <div className=\"row\">\n          {products.map(function (product, index) {\n            const prodSlug = product.Slug;\n            return (\n              <div className=\"col-sm-4\" key={index}>\n                <div className=\"card mb-4\">\n                  <div className=\"card-header\">{product.Name}</div>\n                  <div className=\"card-body\">{product.Description}</div>\n                  <div className=\"card-footer\">\n                    <a onClick={() => vote(product.Slug, \"Upvoted\", index)}\n                      className=\"btn btn-default float-left\">\n                      <FiThumbsUp />\n                    </a>\n                    <small className=\"text-muted\">{voted[prodSlug]}</small>\n                    <a onClick={() => vote(product.Slug, \"Downvoted\", index)}\n                      className=\"btn btn-default float-right\">\n                      <FiThumbsDown />\n                    </a>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoggedIn;"]},"metadata":{},"sourceType":"module"}